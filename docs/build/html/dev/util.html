

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8. util &mdash; dSIPRouter 0.64 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. The dSIPRouter Project" href="../routes/index.html" />
    <link rel="prev" title="7. sysloginit" href="sysloginit.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> dSIPRouter
          

          
          </a>

          
            
            
              <div class="version">
                0.64
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">1.  User Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user/installing.html">1.2.1. Installing dSIPRouter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/command_line_options.html">1.3.1. Command Line Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/configuring.html">1.4.1. Configuring dSIPRouter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/carrier_groups.html">1.4.1.1. Carrier Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/carrier_groups.html#adding-a-carrier">1.4.1.2. Adding a Carrier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/pbxs_and_endpoints.html">1.4.1.3. PBX(s) and Endpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/pbxs_and_endpoints.html#inbound-did-mapping">1.4.1.4. Inbound DID Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/domains.html">1.4.1.5. Adding a Domain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/global_outbound_routes.html">1.4.1.6. Global Outbound Routes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user/api.html">1.5.1. API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/use-cases.html">1.6.1. Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/resources.html">1.7.1. Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/supported_configurations.html">1.8.1. Supported Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/troubleshooting.html">1.9.1. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user/upgrade.html">1.10.1. Upgrading dSIPRouter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../user/upgrade_0.522_to_0.523.html">1.10.1.1.1. Upgrade dSIPRouter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/upgrade_0.50_to_0.51.html">1.10.1.2.1. Upgrade dSIPRouter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user/upgrade_0.621_to_0.63.html">1.10.1.3.1. Upgrade dSIPRouter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html"> Developer Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="database.html">1.  database</a></li>
<li class="toctree-l2"><a class="reference internal" href="dsiprouter.html">2.  dsiprouter</a></li>
<li class="toctree-l2"><a class="reference internal" href="globals.html">3.  globals</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">4.  modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">5.  settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="shared.html">6.  shared</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysloginit.html">7.  sysloginit</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">8.  util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../routes/index.html">2.  Routes Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../routes/routes.html">2.1.  routes</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dSIPRouter</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">The dSIPRouter Project</a> &raquo;</li>
        
      <li><span class="section-number">8. </span>util</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/dev/util.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="util">
<h1><span class="section-number">8. </span>util<a class="headerlink" href="#util" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-util.conversions">
<span id="util-conversions"></span><h2><span class="section-number">8.1. </span>util.conversions<a class="headerlink" href="#module-util.conversions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="util.conversions.expand_prefix">
<code class="sig-prename descclassname">util.conversions.</code><code class="sig-name descname">expand_prefix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefix</span></em>, <em class="sig-param"><span class="n">suffix_check</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/conversions.html#expand_prefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.conversions.expand_prefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="util.conversions.expand_prefixs">
<code class="sig-prename descclassname">util.conversions.</code><code class="sig-name descname">expand_prefixs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefixs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/conversions.html#expand_prefixs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.conversions.expand_prefixs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-util.cron">
<span id="util-cron"></span><h2><span class="section-number">8.2. </span>util.cron<a class="headerlink" href="#module-util.cron" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="util.cron.addTaggedCronjob">
<code class="sig-prename descclassname">util.cron.</code><code class="sig-name descname">addTaggedCronjob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em>, <em class="sig-param"><span class="n">interval</span></em>, <em class="sig-param"><span class="n">cmd</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/cron.html#addTaggedCronjob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.cron.addTaggedCronjob" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a tagged cronjob to current user’s crontab</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag</strong> (<em>str|int</em>) – tag for new entry</p></li>
<li><p><strong>interval</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – crontab interval</p></li>
<li><p><strong>cmd</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – crontab cmd to run</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether it succeeded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="util.cron.cronIntervalToDescription">
<code class="sig-prename descclassname">util.cron.</code><code class="sig-name descname">cronIntervalToDescription</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">interval</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/cron.html#cronIntervalToDescription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.cron.cronIntervalToDescription" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a crontab interval to a human readable format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interval</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – crontab interval</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>readable format or None</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str|None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="util.cron.deleteTaggedCronjob">
<code class="sig-prename descclassname">util.cron.</code><code class="sig-name descname">deleteTaggedCronjob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/cron.html#deleteTaggedCronjob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.cron.deleteTaggedCronjob" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a tagged cronjob from the existing user’s crontab</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> (<em>str|int</em>) – tag of existing entry</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether it succeeded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="util.cron.getTaggedCronjob">
<code class="sig-prename descclassname">util.cron.</code><code class="sig-name descname">getTaggedCronjob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/cron.html#getTaggedCronjob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.cron.getTaggedCronjob" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a cronjob from current user’s crontab by its tag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> (<em>str|int</em>) – tag specified when creating</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cronjob entry or None</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>CronTab|None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="util.cron.updateTaggedCronjob">
<code class="sig-prename descclassname">util.cron.</code><code class="sig-name descname">updateTaggedCronjob</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em>, <em class="sig-param"><span class="n">interval</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">cmd</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">new_tag</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/cron.html#updateTaggedCronjob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.cron.updateTaggedCronjob" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a tagged cronjob in the current user’s crontab</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag</strong> (<em>str|int</em>) – tag of existing entry</p></li>
<li><p><strong>interval</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – new crontab interval</p></li>
<li><p><strong>cmd</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – new crontab cmd to run</p></li>
<li><p><strong>new_tag</strong> (<em>str|int</em>) – new tag for entry</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether it succeeded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-util.decorator">
<span id="util-decorator"></span><h2><span class="section-number">8.3. </span>util.decorator<a class="headerlink" href="#module-util.decorator" title="Permalink to this headline">¶</a></h2>
<p>&#64;Summary: Contains methods to be applied as python decorators
&#64;Author: devopsec</p>
<dl class="py function">
<dt id="util.decorator.pyasync">
<code class="sig-prename descclassname">util.decorator.</code><code class="sig-name descname">pyasync</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/decorator.html#pyasync"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.decorator.pyasync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-util.file_handling">
<span id="util-file-handling"></span><h2><span class="section-number">8.4. </span>util.file_handling<a class="headerlink" href="#module-util.file_handling" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="util.file_handling.change_owner">
<code class="sig-prename descclassname">util.file_handling.</code><code class="sig-name descname">change_owner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">user</span></em>, <em class="sig-param"><span class="n">group</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/file_handling.html#change_owner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.file_handling.change_owner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="util.file_handling.change_permissions_recursive">
<code class="sig-prename descclassname">util.file_handling.</code><code class="sig-name descname">change_permissions_recursive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">mode</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/file_handling.html#change_permissions_recursive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.file_handling.change_permissions_recursive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="util.file_handling.isValidFile">
<code class="sig-prename descclassname">util.file_handling.</code><code class="sig-name descname">isValidFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">filetype</span><span class="o">=</span><span class="default_value">'any'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/file_handling.html#isValidFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.file_handling.isValidFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies file type based on extension and type to verify against
Returns true if extension is valid for filetype, false otherwise
Throws ValueError when filetype can not be handled
Filetypes currently supported are: [image | video | audio | doc | log | any]</p>
</dd></dl>

<dl class="py function">
<dt id="util.file_handling.saveUpload">
<code class="sig-prename descclassname">util.file_handling.</code><code class="sig-name descname">saveUpload</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">savedir</span></em>, <em class="sig-param"><span class="n">filetype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/file_handling.html#saveUpload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.file_handling.saveUpload" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves file from current request context to provided savedir
Flashes message indicating success or fail
Returns a Dict {status=[error|warning|success], message=[None|&lt;message&gt;], file=[None|&lt;filename&gt;]}</p>
</dd></dl>

</div>
<div class="section" id="module-util.ipc">
<span id="util-ipc"></span><h2><span class="section-number">8.5. </span>util.ipc<a class="headerlink" href="#module-util.ipc" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="util.ipc.createSettingsManager">
<code class="sig-prename descclassname">util.ipc.</code><code class="sig-name descname">createSettingsManager</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shared_settings</span></em>, <em class="sig-param"><span class="n">address</span><span class="o">=</span><span class="default_value">'/var/run/dsiprouter/ipc.sock'</span></em>, <em class="sig-param"><span class="n">authkey</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/ipc.html#createSettingsManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.ipc.createSettingsManager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="util.ipc.sendSyncSettingsSignal">
<code class="sig-prename descclassname">util.ipc.</code><code class="sig-name descname">sendSyncSettingsSignal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pid_file</span><span class="o">=</span><span class="default_value">'/var/run/dsiprouter/dsiprouter.pid'</span></em>, <em class="sig-param"><span class="n">load_shared_settings</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/ipc.html#sendSyncSettingsSignal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.ipc.sendSyncSettingsSignal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="util.ipc.setSharedSettings">
<code class="sig-prename descclassname">util.ipc.</code><code class="sig-name descname">setSharedSettings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fields_dict</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">address</span><span class="o">=</span><span class="default_value">'/var/run/dsiprouter/ipc.sock'</span></em>, <em class="sig-param"><span class="n">authkey</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/ipc.html#setSharedSettings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.ipc.setSharedSettings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-util.kamtls">
<span id="util-kamtls"></span><h2><span class="section-number">8.6. </span>util.kamtls<a class="headerlink" href="#module-util.kamtls" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="util.kamtls.addCustomTLSConfig">
<code class="sig-prename descclassname">util.kamtls.</code><code class="sig-name descname">addCustomTLSConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em>, <em class="sig-param"><span class="n">ip</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">5061</span></em>, <em class="sig-param"><span class="n">server_name_mode</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/kamtls.html#addCustomTLSConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.kamtls.addCustomTLSConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an additional domain to kamailio TLS configs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – domain profile to create</p></li>
<li><p><strong>ip</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – ip kamailio will match for profile</p></li>
<li><p><strong>port</strong> (<em>int|str</em>) – port kamailio will match for profile</p></li>
<li><p><strong>server_name_mode</strong> (<em>int|str</em>) – server name matching mode</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether addition succeeded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="util.kamtls.createCustomTLSConfig">
<code class="sig-prename descclassname">util.kamtls.</code><code class="sig-name descname">createCustomTLSConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em>, <em class="sig-param"><span class="n">ip</span></em>, <em class="sig-param"><span class="n">port</span></em>, <em class="sig-param"><span class="n">server_name_mode</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/kamtls.html#createCustomTLSConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.kamtls.createCustomTLSConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Domain TLS Profile string for the Kamailio TLS Config</p>
<p>Reference: <a class="reference external" href="https://kamailio.org/docs/modules/5.3.x/modules/tls.html">https://kamailio.org/docs/modules/5.3.x/modules/tls.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – domain profile to create</p></li>
<li><p><strong>ip</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – ip kamailio will match for profile</p></li>
<li><p><strong>port</strong> (<em>int|str</em>) – port kamailio will match for profile</p></li>
<li><p><strong>server_name_mode</strong> (<em>int|str</em>) – server name matching mode</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tls config for a custom domain</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="util.kamtls.deleteCustomTLSConfig">
<code class="sig-prename descclassname">util.kamtls.</code><code class="sig-name descname">deleteCustomTLSConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/kamtls.html#deleteCustomTLSConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.kamtls.deleteCustomTLSConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an additional domain in kamailio TLS configs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – domain profile to delete</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether delete succeeded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="util.kamtls.getCustomTLSConfigs">
<code class="sig-prename descclassname">util.kamtls.</code><code class="sig-name descname">getCustomTLSConfigs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain_filter</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/kamtls.html#getCustomTLSConfigs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.kamtls.getCustomTLSConfigs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get kamailio TLS configs for additional domains</p>
<p>Server and client domain/ip/port are assumed to be the same</p>
<p>The optional domain filter returns domains &amp; subdomains that match</p>
<p>Returned Data Format:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;&lt;domain&gt;&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ip&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;str&gt;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;int&gt;&#39;</span>
        <span class="s1">&#39;server&#39;</span><span class="p">:</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">server</span> <span class="n">params</span><span class="o">&gt;</span><span class="p">},</span>
        <span class="s1">&#39;client&#39;</span><span class="p">:</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">client</span> <span class="n">params</span><span class="o">&gt;</span><span class="p">}</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>domain_filter</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – filter on this domain / subdomains</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>TLS configs for custom domain profiles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict|None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="util.kamtls.updateCustomTLSConfig">
<code class="sig-prename descclassname">util.kamtls.</code><code class="sig-name descname">updateCustomTLSConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em>, <em class="sig-param"><span class="n">ip</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">server_name_mode</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/kamtls.html#updateCustomTLSConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.kamtls.updateCustomTLSConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an additional domain to kamailio TLS configs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – domain profile to update</p></li>
<li><p><strong>ip</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – ip kamailio will match for profile</p></li>
<li><p><strong>port</strong> (<em>int|str</em>) – port kamailio will match for profile</p></li>
<li><p><strong>server_name_mode</strong> (<em>int|str</em>) – server name matching mode</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether update succeeded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-util.letsencrypt">
<span id="util-letsencrypt"></span><h2><span class="section-number">8.7. </span>util.letsencrypt<a class="headerlink" href="#module-util.letsencrypt" title="Permalink to this headline">¶</a></h2>
<p>The workflow consists of:
(Account creation)
- Create account key
- Register account and accept TOS
(Certificate actions)
- Select HTTP-01 within offered challenges by the CA server
- Set up http challenge resource
- Set up standalone web server
- Create domain private key and CSR
- Issue certificate</p>
<dl class="py function">
<dt id="util.letsencrypt.challenge_server">
<code class="sig-prename descclassname">util.letsencrypt.</code><code class="sig-name descname">challenge_server</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">http_01_resources</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/letsencrypt.html#challenge_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.letsencrypt.challenge_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage standalone server set up and shutdown.</p>
</dd></dl>

<dl class="py function">
<dt id="util.letsencrypt.deleteCertificate">
<code class="sig-prename descclassname">util.letsencrypt.</code><code class="sig-name descname">deleteCertificate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em>, <em class="sig-param"><span class="n">directory_url</span><span class="o">=</span><span class="default_value">'https://acme-v02.api.letsencrypt.org/directory'</span></em>, <em class="sig-param"><span class="n">cert_dir</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/letsencrypt.html#deleteCertificate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.letsencrypt.deleteCertificate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="util.letsencrypt.generateCertificate">
<code class="sig-prename descclassname">util.letsencrypt.</code><code class="sig-name descname">generateCertificate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain</span></em>, <em class="sig-param"><span class="n">notification_email</span></em>, <em class="sig-param"><span class="n">directory_url</span><span class="o">=</span><span class="default_value">'https://acme-v02.api.letsencrypt.org/directory'</span></em>, <em class="sig-param"><span class="n">cert_dir</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/letsencrypt.html#generateCertificate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.letsencrypt.generateCertificate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="util.letsencrypt.new_csr">
<code class="sig-prename descclassname">util.letsencrypt.</code><code class="sig-name descname">new_csr</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">domain_name</span></em>, <em class="sig-param"><span class="n">pkey_pem</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/letsencrypt.html#new_csr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.letsencrypt.new_csr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create certificate signing request.</p>
</dd></dl>

<dl class="py function">
<dt id="util.letsencrypt.perform_http01">
<code class="sig-prename descclassname">util.letsencrypt.</code><code class="sig-name descname">perform_http01</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">client_acme</span></em>, <em class="sig-param"><span class="n">challb</span></em>, <em class="sig-param"><span class="n">orderr</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/letsencrypt.html#perform_http01"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.letsencrypt.perform_http01" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up standalone webserver and perform HTTP-01 challenge.</p>
</dd></dl>

<dl class="py function">
<dt id="util.letsencrypt.select_http01_chall">
<code class="sig-prename descclassname">util.letsencrypt.</code><code class="sig-name descname">select_http01_chall</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">orderr</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/letsencrypt.html#select_http01_chall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.letsencrypt.select_http01_chall" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for and select <cite>http-01</cite> from the challenges offered by the server.</p>
</dd></dl>

</div>
<div class="section" id="module-util.notifications">
<span id="util-notifications"></span><h2><span class="section-number">8.8. </span>util.notifications<a class="headerlink" href="#module-util.notifications" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-util.parse_json">
<span id="util-parse-json"></span><h2><span class="section-number">8.9. </span>util.parse_json<a class="headerlink" href="#module-util.parse_json" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="util.parse_json.CreateEncoder">
<code class="sig-prename descclassname">util.parse_json.</code><code class="sig-name descname">CreateEncoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">revisit_self</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fields_to_expand</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">fields_to_remove</span><span class="o">=</span><span class="default_value">()</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/parse_json.html#CreateEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.parse_json.CreateEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper method for creating Custom JSON Encoders</p>
<p>Allows dynamic class definition for use in json.dumps(cls=&lt;encoder&gt;)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>revisit_self</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – True | False</p></li>
<li><p><strong>fields_to_expand</strong> (<em>list|tuple</em>) – ORM Model Fields to expand</p></li>
<li><p><strong>fields_to_remove</strong> (<em>list|tuple</em>) – ORM Model Fields to remove</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Voodoo Alchemy Encoder class</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>VoodooAlchemyEncoder</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-util.security">
<span id="util-security"></span><h2><span class="section-number">8.10. </span>util.security<a class="headerlink" href="#module-util.security" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="util.security.AES_CTR">
<em class="property">class </em><code class="sig-prename descclassname">util.security.</code><code class="sig-name descname">AES_CTR</code><a class="reference internal" href="../_modules/util/security.html#AES_CTR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.security.AES_CTR" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper class for pycrypto’s AES256 functions in AES_CTR mode</p>
<dl class="py attribute">
<dt id="util.security.AES_CTR.BLOCK_SIZE">
<code class="sig-name descname">BLOCK_SIZE</code><em class="property"> = 16</em><a class="headerlink" href="#util.security.AES_CTR.BLOCK_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.AES_CTR.KEY_SIZE">
<code class="sig-name descname">KEY_SIZE</code><em class="property"> = 32</em><a class="headerlink" href="#util.security.AES_CTR.KEY_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.AES_CTR.__dict__">
<code class="sig-name descname">__dict__</code><em class="property"> = mappingproxy({'__module__': 'util.security', '__doc__': &quot;\n    Wrapper class for pycrypto's AES256 functions in AES_CTR mode\n    &quot;, 'BLOCK_SIZE': 16, 'KEY_SIZE': 32, 'genKey': &lt;staticmethod object&gt;, 'encrypt': &lt;staticmethod object&gt;, 'decrypt': &lt;staticmethod object&gt;, '__dict__': &lt;attribute '__dict__' of 'AES_CTR' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'AES_CTR' objects&gt;})</em><a class="headerlink" href="#util.security.AES_CTR.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.AES_CTR.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'util.security'</em><a class="headerlink" href="#util.security.AES_CTR.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.AES_CTR.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#util.security.AES_CTR.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt id="util.security.AES_CTR.decrypt">
<em class="property">static </em><code class="sig-name descname">decrypt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">byte_string</span></em>, <em class="sig-param"><span class="n">key_file</span><span class="o">=</span><span class="default_value">'/etc/dsiprouter/privkey'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/security.html#AES_CTR.decrypt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.security.AES_CTR.decrypt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="util.security.AES_CTR.encrypt">
<em class="property">static </em><code class="sig-name descname">encrypt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">byte_string</span></em>, <em class="sig-param"><span class="n">key_file</span><span class="o">=</span><span class="default_value">'/etc/dsiprouter/privkey'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/security.html#AES_CTR.encrypt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.security.AES_CTR.encrypt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="util.security.AES_CTR.genKey">
<em class="property">static </em><code class="sig-name descname">genKey</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">keyfile</span><span class="o">=</span><span class="default_value">'/etc/dsiprouter/privkey'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/security.html#AES_CTR.genKey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.security.AES_CTR.genKey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="util.security.Credentials">
<em class="property">class </em><code class="sig-prename descclassname">util.security.</code><code class="sig-name descname">Credentials</code><a class="reference internal" href="../_modules/util/security.html#Credentials"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.security.Credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper class for credential management functions</p>
<dl class="py attribute">
<dt id="util.security.Credentials.AESCTR_CREDS_ENCODED_MAX_LEN">
<code class="sig-name descname">AESCTR_CREDS_ENCODED_MAX_LEN</code><em class="property"> = 160</em><a class="headerlink" href="#util.security.Credentials.AESCTR_CREDS_ENCODED_MAX_LEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.CREDS_MAX_LEN">
<code class="sig-name descname">CREDS_MAX_LEN</code><em class="property"> = 64</em><a class="headerlink" href="#util.security.Credentials.CREDS_MAX_LEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.HASHED_CREDS_ENCODED_MAX_LEN">
<code class="sig-name descname">HASHED_CREDS_ENCODED_MAX_LEN</code><em class="property"> = 256</em><a class="headerlink" href="#util.security.Credentials.HASHED_CREDS_ENCODED_MAX_LEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.HASH_ENCODED_LEN">
<code class="sig-name descname">HASH_ENCODED_LEN</code><em class="property"> = 128</em><a class="headerlink" href="#util.security.Credentials.HASH_ENCODED_LEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.HASH_LEN">
<code class="sig-name descname">HASH_LEN</code><em class="property"> = 64</em><a class="headerlink" href="#util.security.Credentials.HASH_LEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.SALT_ENCODED_LEN">
<code class="sig-name descname">SALT_ENCODED_LEN</code><em class="property"> = 128</em><a class="headerlink" href="#util.security.Credentials.SALT_ENCODED_LEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.SALT_LEN">
<code class="sig-name descname">SALT_LEN</code><em class="property"> = 64</em><a class="headerlink" href="#util.security.Credentials.SALT_LEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.__dict__">
<code class="sig-name descname">__dict__</code><em class="property"> = mappingproxy({'__module__': 'util.security', '__doc__': '\n    Wrapper class for credential management functions\n    ', 'HASH_LEN': 64, 'HASH_ENCODED_LEN': 128, 'SALT_LEN': 64, 'SALT_ENCODED_LEN': 128, 'CREDS_MAX_LEN': 64, 'HASHED_CREDS_ENCODED_MAX_LEN': 256, 'AESCTR_CREDS_ENCODED_MAX_LEN': 160, 'hashCreds': &lt;staticmethod object&gt;, 'setCreds': &lt;staticmethod object&gt;, '__dict__': &lt;attribute '__dict__' of 'Credentials' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'Credentials' objects&gt;})</em><a class="headerlink" href="#util.security.Credentials.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'util.security'</em><a class="headerlink" href="#util.security.Credentials.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="util.security.Credentials.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#util.security.Credentials.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="py method">
<dt id="util.security.Credentials.hashCreds">
<em class="property">static </em><code class="sig-name descname">hashCreds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">creds</span></em>, <em class="sig-param"><span class="n">salt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/security.html#Credentials.hashCreds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.security.Credentials.hashCreds" title="Permalink to this definition">¶</a></dt>
<dd><p>Hash credentials using pbkdf2_hmac with sha512 algo</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>creds</strong> (<em>bytes|str</em>) – byte string to hash</p></li>
<li><p><strong>salt</strong> (<em>bytes|str</em>) – salt to hash creds with as hex encoded byte string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>hash+salt as hex encoded byte string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.9)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="util.security.Credentials.setCreds">
<em class="property">static </em><code class="sig-name descname">setCreds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dsip_creds</span><span class="o">=</span><span class="default_value">b''</span></em>, <em class="sig-param"><span class="n">api_creds</span><span class="o">=</span><span class="default_value">b''</span></em>, <em class="sig-param"><span class="n">kam_creds</span><span class="o">=</span><span class="default_value">b''</span></em>, <em class="sig-param"><span class="n">mail_creds</span><span class="o">=</span><span class="default_value">b''</span></em>, <em class="sig-param"><span class="n">ipc_creds</span><span class="o">=</span><span class="default_value">b''</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/security.html#Credentials.setCreds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.security.Credentials.setCreds" title="Permalink to this definition">¶</a></dt>
<dd><p>Set secure credentials, either by hashing or encrypting</p>
<p>Values must be within size limit and empty values are ignored</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dsip_creds</strong> (<em>bytes|str</em>) – dsiprouter admin password as byte string</p></li>
<li><p><strong>api_creds</strong> (<em>bytes|str</em>) – dsiprouter api token as byte string</p></li>
<li><p><strong>kam_creds</strong> (<em>bytes|str</em>) – kamailio db password as byte string</p></li>
<li><p><strong>mail_creds</strong> (<em>bytes|str</em>) – dsiprouter mail password as byte string</p></li>
<li><p><strong>ipc_creds</strong> (<em>bytes|str</em>) – dsiprouter ipc connection password as byte string</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)">None</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="util.security.urandomChars">
<code class="sig-prename descclassname">util.security.</code><code class="sig-name descname">urandomChars</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">64</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/security.html#urandomChars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.security.urandomChars" title="Permalink to this definition">¶</a></dt>
<dd><p>Return printable characters from urandom</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – number of bytes to return</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>random characters</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-util.time_funcs">
<span id="util-time-funcs"></span><h2><span class="section-number">8.11. </span>util.time_funcs<a class="headerlink" href="#module-util.time_funcs" title="Permalink to this headline">¶</a></h2>
<p>&#64;summary: Provides methods for working with datetimes, timestamps, etc..
&#64;author: devopsec</p>
<dl class="py function">
<dt id="util.time_funcs.convert_ts">
<code class="sig-prename descclassname">util.time_funcs.</code><code class="sig-name descname">convert_ts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">millis</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">is_utc</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/time_funcs.html#convert_ts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.time_funcs.convert_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>convert timestamp to human readable format
optionally keep up to microsecond precision
if timestamp is utc format pass param is_utc=True</p>
</dd></dl>

<dl class="py function">
<dt id="util.time_funcs.utcnow">
<code class="sig-prename descclassname">util.time_funcs.</code><code class="sig-name descname">utcnow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'ts'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/util/time_funcs.html#utcnow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#util.time_funcs.utcnow" title="Permalink to this definition">¶</a></dt>
<dd><p>returns time-aware utc datetime object or timestamp of current time/date
&#64;Param: format  -  defaults to timestamp, provide “dt” for datetime obj</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../routes/index.html" class="btn btn-neutral float-right" title="2. The dSIPRouter Project" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sysloginit.html" class="btn btn-neutral float-left" title="7. sysloginit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright dOpenSource

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>